import{d as R,x as H,r as n,f as E,w as P,o as F,y as V,z as G,c as A,g as s,t as f,m as z,n as K,A as U,b as g,M as q,B as Q,C as X,D as Y,E as j,G as ee,H as te,I as ae,J as oe,K as se,L as le,N as ie,O as re,P as ne,_ as ue}from"./index-BXEt63_T.js";const ce={class:"ai-chat-like-container"},de={class:"controls"},fe=["data-theme"],he={key:0,class:"chart-error"},pe={class:"error-message"},ve={key:2,class:"chart-placeholder",style:{width:"100%",height:"400px"}},ye={class:"debug-info"},ge=R({__name:"AiChatLike",setup(me){const c=(...a)=>{try{const e=a.map(t=>typeof t=="string"?t:JSON.stringify(t)).join(" ");console.log(e)}catch{console.log(String(a))}};H([Q,X,Y,j,ee,te,ae,oe,se,le,ie,re,ne]);const m=[{title:{text:"Weekly Temperature",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value",name:"Temperature (¬∞C)"},series:[{name:"Temperature",type:"line",data:[20,22,21,23,25,26,23],smooth:!0}]},{title:{text:"Sales Data with Zoom",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["Product A","Product B"],bottom:10},toolbox:{feature:{saveAsImage:{show:!0},restore:{show:!0},dataView:{show:!0},dataZoom:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{type:"value",name:"Sales ($)"},dataZoom:[{type:"slider",show:!0,start:0,end:100,height:36,bottom:0},{type:"inside",start:0,end:100}],series:[{name:"Product A",type:"line",smooth:!0,data:[120,132,101,134,90,230,210,220,182,191,234,260]},{name:"Product B",type:"line",smooth:!0,data:[80,82,91,94,120,110,125,145,122,165,122,137]}]},{title:{text:"Category Sales"},tooltip:{},xAxis:{type:"category",data:["Electronics","Clothing","Food","Books","Sports"]},yAxis:{type:"value"},series:[{type:"bar",data:[320,240,360,180,220],itemStyle:{color:"#5470c6"}}]}],d=n(0),I=n(),v=n(null),h=n(null),C=n(!1),l=n(!1),p=n(!0),k=n(0),x=n(0),b=!1,y=n(!1),w=E(()=>m[d.value]),O=E(()=>{var a;c("[AiChatLike] Computing chartOption for chart index",d.value);try{const e=w.value;if(!e)throw new Error("No chart data provided");const t=JSON.parse(JSON.stringify(e)),S=i=>{const o=typeof i=="string"?{text:i}:i||{},{fontSize:L,fontWeight:_,textStyle:W,left:Ce,...B}=o,J={...W||{},...typeof L<"u"?{fontSize:L}:{},...typeof _<"u"?{fontWeight:_}:{},color:l.value?"#ffffff":"#111111"};return{...B,text:o.text,left:"left",textStyle:J}};if(Array.isArray(t.title)?t.title=t.title.map(i=>S(i)):t.title&&(t.title=S(t.title)),t.toolbox){const i=o=>{o&&(o.iconStyle={...o.iconStyle||{},color:l.value?"#ffffff":"#111111",borderColor:l.value?"#ffffff":"#111111"},o.emphasis&&(o.emphasis.iconStyle={...o.emphasis.iconStyle||{},color:l.value?"#ffffff":"#111111",borderColor:l.value?"#ffffff":"#111111"}))};i(t.toolbox),t.toolbox.feature&&typeof t.toolbox.feature=="object"&&Object.values(t.toolbox.feature).forEach(o=>i(o))}if(!t.series||!Array.isArray(t.series))throw new Error("Invalid series data");t.grid?typeof t.grid=="object"&&!Array.isArray(t.grid)&&(t.grid={...t.grid,containLabel:!0}):t.grid={containLabel:!0};const N=()=>({type:"slider",show:!0,start:0,end:100,height:36,bottom:0,xAxisIndex:[0],filterMode:"filter",realtime:!0});let r=[];return Array.isArray(t.dataZoom)?r=t.dataZoom.slice():t.dataZoom&&(r=[t.dataZoom]),y.value?(r.some(o=>o.type==="slider"||!o.type)||r.push(N()),((a=t.legend)==null?void 0:a.bottom)!==void 0&&(r=r.map(o=>o.type==="slider"||!o.type?{bottom:40,...o}:o))):r.length&&(r=r.map(i=>i.type==="slider"||!i.type?{...i,show:!1}:i)),r.length&&(t.dataZoom=r),h.value=null,t}catch(e){return console.error("Chart option error:",e),h.value=e.message||"Invalid chart configuration",{}}});function D(a){c("Chart clicked:",a)}function $(a){const{action:e}=a||{};e==="dataZoom"?y.value=!y.value:e==="restore"&&(y.value=!1)}function T(){l.value=!l.value,document.documentElement.classList.toggle("dark",l.value),document.body.classList.toggle("dark",l.value),c("[AiChatLike] Theme toggled")}function Z(){p.value=!p.value}function M(){d.value=(d.value+1)%m.length,c("[AiChatLike] switchChart - changed to chart",d.value)}P(l,()=>{c("[AiChatLike] isDark changed")});let u=null;return F(()=>{c("[AiChatLike] Component mounted"),document.documentElement.classList.toggle("dark",l.value),document.body.classList.toggle("dark",l.value);const a=()=>{const e=v.value;return e&&e.clientWidth>0&&e.clientHeight>=0?(k.value=e.clientWidth,x.value=e.clientHeight,C.value=!0,c("[AiChatLike] Container ready"),!0):!1};a()||(u=new ResizeObserver(()=>{const e=v.value;e&&(k.value=e.clientWidth,x.value=e.clientHeight),a()&&u&&(u.disconnect(),u=null)}),v.value&&u.observe(v.value),window.addEventListener("load",a,{once:!0}))}),V(()=>{u&&(u.disconnect(),u=null)}),G((a,e,t)=>{console.error("[AiChatLike] child error captured:",a,`
info:`,t);try{h.value=(a==null?void 0:a.message)||String(a)}catch{}return!1}),(a,e)=>(g(),A("div",ce,[e[5]||(e[5]=s("h1",null,"AI Chat-like ECharts Wrapper Test",-1)),e[6]||(e[6]=s("p",null,"This mimics the same structure used in mynd-aichat/EChartsWrapper for testing MyndEcharts integration",-1)),s("div",de,[s("button",{onClick:T,class:"theme-toggle"},f(l.value?"‚òÄÔ∏è Light Mode":"üåô Dark Mode"),1),s("button",{onClick:Z,class:"isolation-toggle"}," Isolation: "+f(p.value?"ON":"OFF"),1),s("button",{onClick:M,class:"chart-switch"}," Switch Chart ("+f(d.value+1)+"/"+f(m.length)+") ",1)]),s("div",{class:U(["echarts-wrapper",p.value?"akamai-ui-echarts-container":""]),"data-theme":p.value?l.value?"dark":"light":void 0,ref_key:"wrapperRef",ref:v},[h.value?(g(),A("div",he,[e[0]||(e[0]=s("div",{class:"warning-icon"},"‚ö†Ô∏è",-1)),s("div",pe,f(h.value),1)])):C.value?(g(),z(K(q),{key:1,ref_key:"chartRef",ref:I,options:O.value,theme:l.value?"dark":"default","auto-resize":!0,"render-header":!0,"show-toolbox":!0,style:{width:"100%",height:"100%"},class:"chart",onClick:D,onToolboxAction:$},null,8,["options","theme"])):(g(),A("div",ve,e[1]||(e[1]=[s("div",{class:"loading"},"Loading chart...",-1)])))],10,fe),s("div",ye,[e[3]||(e[3]=s("h3",null,"Debug Info",-1)),s("pre",null,f(JSON.stringify({isDark:l.value,useIsolation:p.value,chartContainerReady:C.value,hasError:!!h.value,currentChart:d.value+1,containerWidth:k.value,containerHeight:x.value,dataZoomVisible:y.value},null,2)),1),e[4]||(e[4]=s("h3",null,"Current Chart Data",-1)),s("details",null,[e[2]||(e[2]=s("summary",null,"Click to view raw data",-1)),s("pre",null,f(JSON.stringify(w.value,null,2)),1)])])]))}}),xe=ue(ge,[["__scopeId","data-v-93034ea9"]]);export{xe as default};
