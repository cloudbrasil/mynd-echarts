import{d as z,x as B,r as s,f as L,w as J,o as M,y as R,z as H,c as x,g as o,t as f,m as P,n as F,A as V,b as p,M as G,B as K,C as U,D as q,E as Q,G as X,H as Y,I as j,J as ee,K as te,L as ae,N as oe,O as le,P as se,_ as ie}from"./index-pLgZzPCZ.js";const re={class:"ai-chat-like-container"},ne={class:"controls"},ue=["data-theme"],ce={key:0,class:"chart-error"},de={class:"error-message"},fe={key:2,class:"chart-placeholder",style:{width:"100%",height:"400px"}},he={class:"debug-info"},ve=z({__name:"AiChatLike",setup(ge){const i=(...t)=>{try{const e=t.map(r=>typeof r=="string"?r:JSON.stringify(r)).join(" ");console.log(e)}catch{console.log(String(t))}};B([K,U,q,Q,X,Y,j,ee,te,ae,oe,le,se]);const m=[{title:{text:"Weekly Temperature",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value",name:"Temperature (¬∞C)"},series:[{name:"Temperature",type:"line",data:[20,22,21,23,25,26,23],smooth:!0}]},{title:{text:"Sales Data with Zoom",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["Product A","Product B"],bottom:10},toolbox:{feature:{saveAsImage:{show:!0},restore:{show:!0},dataView:{show:!0},dataZoom:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{type:"value",name:"Sales ($)"},dataZoom:[{type:"slider",show:!0,start:0,end:100,height:36,bottom:0},{type:"inside",start:0,end:100}],series:[{name:"Product A",type:"line",smooth:!0,data:[120,132,101,134,90,230,210,220,182,191,234,260]},{name:"Product B",type:"line",smooth:!0,data:[80,82,91,94,120,110,125,145,122,165,122,137]}]},{title:{text:"Category Sales"},tooltip:{},xAxis:{type:"category",data:["Electronics","Clothing","Food","Books","Sports"]},yAxis:{type:"value"},series:[{type:"bar",data:[320,240,360,180,220],itemStyle:{color:"#5470c6"}}]}],c=s(0),_=s(),g=s(null),h=s(null),y=s(!1),a=s(!1),v=s(!0),C=s(0),k=s(0),b=!1,d=s(!1),w=L(()=>m[c.value]),D=L(()=>{i("[AiChatLike] Computing chartOption for chart index",c.value);try{const t=w.value;if(!t)throw new Error("No chart data provided");const e=JSON.parse(JSON.stringify(t)),r=u=>{const l=typeof u=="string"?{text:u}:u||{},{fontSize:A,fontWeight:S,textStyle:N,left:pe,...W}=l,Z={...N||{},...typeof A<"u"?{fontSize:A}:{},...typeof S<"u"?{fontWeight:S}:{},color:a.value?"#ffffff":"#111111"};return{...W,text:l.text,left:"left",textStyle:Z}};if(Array.isArray(e.title)?e.title=e.title.map(u=>r(u)):e.title&&(e.title=r(e.title)),e.toolbox){const u=l=>{l&&(l.iconStyle={...l.iconStyle||{},color:a.value?"#ffffff":"#111111",borderColor:a.value?"#ffffff":"#111111"},l.emphasis&&(l.emphasis.iconStyle={...l.emphasis.iconStyle||{},color:a.value?"#ffffff":"#111111",borderColor:a.value?"#ffffff":"#111111"}))};u(e.toolbox),e.toolbox.feature&&typeof e.toolbox.feature=="object"&&Object.values(e.toolbox.feature).forEach(l=>u(l))}if(!e.series||!Array.isArray(e.series))throw new Error("Invalid series data");return e.grid?typeof e.grid=="object"&&!Array.isArray(e.grid)&&(e.grid={...e.grid,containLabel:!0}):e.grid={containLabel:!0},e.dataZoom&&delete e.dataZoom,h.value=null,e}catch(t){return console.error("Chart option error:",t),h.value=t.message||"Invalid chart configuration",{}}});function E(t){i("Chart clicked:",t)}function O(t){const{action:e}=t||{};e==="dataZoom"?(d.value=!d.value,i("[AiChatLike] DataZoom toggled:",d.value)):e==="restore"&&(d.value=!1,i("[AiChatLike] DataZoom hidden via restore"))}function I(){a.value=!a.value,document.documentElement.classList.toggle("dark",a.value),document.body.classList.toggle("dark",a.value),i("[AiChatLike] Theme toggled")}function $(){v.value=!v.value}function T(){c.value=(c.value+1)%m.length,i("[AiChatLike] switchChart - changed to chart",c.value),d.value=!1}J(a,()=>{i("[AiChatLike] isDark changed")});let n=null;return M(()=>{i("[AiChatLike] Component mounted"),document.documentElement.classList.toggle("dark",a.value),document.body.classList.toggle("dark",a.value);const t=()=>{const e=g.value;return e&&e.clientWidth>0&&e.clientHeight>=0?(C.value=e.clientWidth,k.value=e.clientHeight,y.value=!0,i("[AiChatLike] Container ready"),!0):!1};t()||(n=new ResizeObserver(()=>{const e=g.value;e&&(C.value=e.clientWidth,k.value=e.clientHeight),t()&&n&&(n.disconnect(),n=null)}),g.value&&n.observe(g.value),window.addEventListener("load",t,{once:!0}))}),R(()=>{n&&(n.disconnect(),n=null)}),H((t,e,r)=>{console.error("[AiChatLike] child error captured:",t,`
info:`,r);try{h.value=(t==null?void 0:t.message)||String(t)}catch{}return!1}),(t,e)=>(p(),x("div",re,[e[5]||(e[5]=o("h1",null,"AI Chat-like ECharts Wrapper Test",-1)),e[6]||(e[6]=o("p",null,"This mimics the same structure used in mynd-aichat/EChartsWrapper for testing MyndEcharts integration",-1)),o("div",ne,[o("button",{onClick:I,class:"theme-toggle"},f(a.value?"‚òÄÔ∏è Light Mode":"üåô Dark Mode"),1),o("button",{onClick:$,class:"isolation-toggle"}," Isolation: "+f(v.value?"ON":"OFF"),1),o("button",{onClick:T,class:"chart-switch"}," Switch Chart ("+f(c.value+1)+"/"+f(m.length)+") ",1)]),o("div",{class:V(["echarts-wrapper",v.value?"akamai-ui-echarts-container":""]),"data-theme":v.value?a.value?"dark":"light":void 0,ref_key:"wrapperRef",ref:g},[h.value?(p(),x("div",ce,[e[0]||(e[0]=o("div",{class:"warning-icon"},"‚ö†Ô∏è",-1)),o("div",de,f(h.value),1)])):y.value?(p(),P(F(G),{key:1,ref_key:"chartRef",ref:_,options:D.value,theme:a.value?"dark":"default","is-dark-mode":a.value,"auto-resize":!0,"render-header":!0,"show-toolbox":!0,"show-zoom-bar":d.value,style:{width:"100%",height:"100%"},class:"chart",onClick:E,onToolboxAction:O},null,8,["options","theme","is-dark-mode","show-zoom-bar"])):(p(),x("div",fe,e[1]||(e[1]=[o("div",{class:"loading"},"Loading chart...",-1)])))],10,ue),o("div",he,[e[3]||(e[3]=o("h3",null,"Debug Info",-1)),o("pre",null,f(JSON.stringify({isDark:a.value,useIsolation:v.value,chartContainerReady:y.value,hasError:!!h.value,currentChart:c.value+1,containerWidth:C.value,containerHeight:k.value,dataZoomVisible:d.value},null,2)),1),e[4]||(e[4]=o("h3",null,"Current Chart Data",-1)),o("details",null,[e[2]||(e[2]=o("summary",null,"Click to view raw data",-1)),o("pre",null,f(JSON.stringify(w.value,null,2)),1)])])]))}}),ye=ie(ve,[["__scopeId","data-v-59ba0364"]]);export{ye as default};
