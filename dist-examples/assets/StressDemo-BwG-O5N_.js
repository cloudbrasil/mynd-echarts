import{d as S,r,f as _,o as k,y as A,c as w,g as a,t as u,k as C,n as M,b as T,M as Z,_ as B}from"./index-pLgZzPCZ.js";const D={class:"page"},N={class:"controls"},O=["disabled"],R=["disabled"],I={class:"debug"},L=S({__name:"StressDemo",setup(V){const o=r(!1),n=r(!1),l=r(0),g=r(null),y=r(null),d=[{title:{text:"Stress Line",left:"center"},tooltip:{trigger:"axis"},legend:{bottom:0,data:["A","B"]},xAxis:{type:"category",boundaryGap:!1,data:Array.from({length:24},(t,e)=>`${e}:00`)},yAxis:{type:"value"},series:[{name:"A",type:"line",smooth:!0,data:Array.from({length:24},()=>Math.round(50+Math.random()*50))},{name:"B",type:"line",smooth:!0,data:Array.from({length:24},()=>Math.round(40+Math.random()*60))}]},{title:{text:"Stress Bar",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{bottom:0,data:["A","B","C"]},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"A",type:"bar",data:[120,200,150,80,70,110,130]},{name:"B",type:"bar",data:[60,100,90,50,40,80,60]},{name:"C",type:"bar",data:[20,40,30,10,20,30,50]}]}],v=_(()=>{const t=JSON.parse(JSON.stringify(d[l.value]||d[0]));if(n.value){const e=Array.isArray(t.dataZoom)?t.dataZoom.slice():t.dataZoom?[t.dataZoom]:[];e.some(h=>h.type==="slider"||!h.type)||e.push({type:"slider",show:!0,start:0,end:100,xAxisIndex:[0],filterMode:"filter",realtime:!0}),t.dataZoom=e}return t});function m(){o.value=!o.value}function f(){l.value=(l.value+1)%d.length}function c(){n.value=!n.value}function b(t){(t==null?void 0:t.action)==="dataZoom"&&c(),(t==null?void 0:t.action)==="restore"&&(n.value=!1)}let i=null;const s=r(!1);function x(){if(s.value)return;s.value=!0;const t=()=>{if(!s.value)return;const e=Math.random();e<.33?m():e<.66?f():c(),i=window.setTimeout(t,150)};i=window.setTimeout(t,150)}function p(){s.value=!1,i&&(clearTimeout(i),i=null)}return k(()=>{document.documentElement.classList.toggle("dark",o.value),document.body.classList.toggle("dark",o.value)}),A(()=>{p()}),(t,e)=>(T(),w("div",D,[e[1]||(e[1]=a("h1",null,"Stress Demo",-1)),e[2]||(e[2]=a("p",null,"Rapidly toggles theme, updates options, and triggers resize to validate stability.",-1)),a("div",N,[a("button",{onClick:m},"Toggle Theme ("+u(o.value?"Dark":"Light")+")",1),a("button",{onClick:f},"Switch Chart ("+u(l.value+1)+"/"+u(d.length)+")",1),a("button",{onClick:c},"Toggle DataZoom ("+u(n.value?"ON":"OFF")+")",1),a("button",{onClick:x,disabled:s.value},"Start Stress",8,O),a("button",{onClick:p,disabled:!s.value},"Stop Stress",8,R)]),a("div",{class:"host",ref_key:"hostRef",ref:y},[C(M(Z),{ref_key:"chartRef",ref:g,options:v.value,theme:o.value?"dark":"default","auto-resize":!0,"render-header":!0,"show-toolbox":!0,style:{width:"100%",height:"480px"},onToolboxAction:b},null,8,["options","theme"])],512),a("details",I,[e[0]||(e[0]=a("summary",null,"State",-1)),a("pre",null,u(JSON.stringify({isDark:o.value,currentIndex:l.value,dataZoomVisible:n.value,stressing:s.value},null,2)),1)])]))}}),J=B(L,[["__scopeId","data-v-cf89e955"]]);export{J as default};
