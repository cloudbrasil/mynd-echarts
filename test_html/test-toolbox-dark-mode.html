<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolbox Dark Mode Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: all 0.3s ease;
        }
        
        body.light {
            background: #f5f5f5;
            color: #333;
        }
        
        body.dark {
            background: #1a202c;
            color: #e2e8f0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        body.dark .header {
            background: #2d3748;
        }
        
        .toggle-btn {
            padding: 10px 20px;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .toggle-btn:hover {
            background: #3182ce;
        }
        
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            height: 500px;
            margin-bottom: 20px;
        }
        
        body.dark .chart-container {
            background: #2d3748;
        }
        
        .info {
            padding: 15px;
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        body.dark .info {
            background: #374151;
            border-left-color: #60a5fa;
        }
    </style>
</head>
<body class="light">
    <div class="container">
        <div class="header">
            <h1>Toolbox Dark Mode Test</h1>
            <button class="toggle-btn" onclick="toggleTheme()">Toggle Theme</button>
        </div>
        
        <div class="info">
            <strong>Testing Toolbox Icon Colors:</strong>
            The toolbox icons should appear in appropriate colors for each theme:
            <ul>
                <li>Light Mode: Dark gray icons (#666)</li>
                <li>Dark Mode: Light gray icons (#9ca3af)</li>
            </ul>
        </div>
        
        <div id="chart1" class="chart-container"></div>
        <div id="chart2" class="chart-container"></div>
    </div>

    <script src="https://unpkg.com/echarts@5/dist/echarts.min.js"></script>
    <script>
        let isDarkMode = false;
        let chart1, chart2;
        
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.className = isDarkMode ? 'dark' : 'light';
            updateCharts();
        }
        
        function getThemedOptions(title) {
            const titleColor = isDarkMode ? '#e2e8f0' : '#333';
            const subtitleColor = isDarkMode ? '#a0aec0' : '#666';
            const toolboxIconColor = isDarkMode ? '#9ca3af' : '#666';
            const toolboxEmphasisColor = isDarkMode ? '#e2e8f0' : '#333';
            const axisLabelColor = isDarkMode ? '#9ca3af' : '#666';
            const splitLineColor = isDarkMode ? '#374151' : '#e5e7eb';
            
            return {
                title: {
                    text: title,
                    textStyle: {
                        color: titleColor
                    },
                    subtext: 'With theme-aware toolbox',
                    subtextStyle: {
                        color: subtitleColor
                    }
                },
                toolbox: {
                    feature: {
                        saveAsImage: {
                            show: true,
                            iconStyle: {
                                normal: {
                                    borderColor: toolboxIconColor
                                },
                                emphasis: {
                                    borderColor: toolboxEmphasisColor
                                }
                            }
                        },
                        restore: {
                            show: true,
                            iconStyle: {
                                normal: {
                                    borderColor: toolboxIconColor
                                },
                                emphasis: {
                                    borderColor: toolboxEmphasisColor
                                }
                            }
                        },
                        dataView: {
                            show: true,
                            iconStyle: {
                                normal: {
                                    borderColor: toolboxIconColor
                                },
                                emphasis: {
                                    borderColor: toolboxEmphasisColor
                                }
                            }
                        },
                        dataZoom: {
                            show: true,
                            iconStyle: {
                                normal: {
                                    borderColor: toolboxIconColor
                                },
                                emphasis: {
                                    borderColor: toolboxEmphasisColor
                                }
                            }
                        },
                        magicType: {
                            show: true,
                            type: ['line', 'bar'],
                            iconStyle: {
                                normal: {
                                    borderColor: toolboxIconColor
                                },
                                emphasis: {
                                    borderColor: toolboxEmphasisColor
                                }
                            }
                        }
                    },
                    iconStyle: {
                        normal: {
                            borderColor: toolboxIconColor
                        },
                        emphasis: {
                            borderColor: toolboxEmphasisColor
                        }
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: isDarkMode ? '#1f2937' : '#fff',
                    borderColor: isDarkMode ? '#374151' : '#e5e7eb',
                    textStyle: {
                        color: isDarkMode ? '#e2e8f0' : '#333'
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    axisLabel: {
                        color: axisLabelColor
                    },
                    axisLine: {
                        lineStyle: {
                            color: isDarkMode ? '#4b5563' : '#d1d5db'
                        }
                    }
                },
                yAxis: {
                    type: 'value',
                    axisLabel: {
                        color: axisLabelColor
                    },
                    axisLine: {
                        lineStyle: {
                            color: isDarkMode ? '#4b5563' : '#d1d5db'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: splitLineColor
                        }
                    }
                },
                series: [{
                    name: 'Data',
                    type: 'line',
                    data: [120, 200, 150, 80, 70, 110, 130],
                    smooth: true
                }]
            };
        }
        
        function initCharts() {
            chart1 = echarts.init(document.getElementById('chart1'), isDarkMode ? 'dark' : null);
            chart2 = echarts.init(document.getElementById('chart2'), isDarkMode ? 'dark' : null);
            
            chart1.setOption(getThemedOptions('Line Chart Example'));
            
            const barOptions = getThemedOptions('Bar Chart Example');
            barOptions.series[0].type = 'bar';
            chart2.setOption(barOptions);
        }
        
        function updateCharts() {
            // Dispose and reinit with new theme
            if (chart1) chart1.dispose();
            if (chart2) chart2.dispose();
            initCharts();
        }
        
        // Initialize
        initCharts();
        
        // Handle resize
        window.addEventListener('resize', () => {
            chart1.resize();
            chart2.resize();
        });
    </script>
</body>
</html>